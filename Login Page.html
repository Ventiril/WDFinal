<html>
    <head>
    <!-- basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">

    <!-- site metas -->
    <title>Login Page</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">	

    <!-- bootstrap css -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

    <!-- style css -->
    <link rel="stylesheet" type="text/css" href="css/Login Style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- Responsive-->
    <link rel="stylesheet" href="css/responsive.css">

    <!-- fevicon -->
    <link rel="icon" href="images/fevicon.png" type="image/gif" />

    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">

    <!-- Tweaks for older IEs-->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">

    <!-- owl stylesheets --> 
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">

    <style>
    .body{
    background: url('Assets/Dragon.jpg') no-repeat;
    background-size: cover;
    background-position: center;
    }
    </style>

    <!-- Javascript files-->
    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.0.0.min.js"></script>
    <script src="js/plugin.js"></script>
        
    <!-- sidebar -->
    <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="js/custom.js"></script>
        
    <!-- javascript --> 
    <script src="js/owl.carousel.js"></script>
    <script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
   
    <script>

        $(document).ready(function(){
            $(".fancybox").fancybox({
                openEffect: "none",
                closeEffect: "none"
            });
        });

        function switchForm(form) {
            if (form === 'login') {
                document.getElementById('loginForm').style.display = 'block';
                document.getElementById('registerForm').style.display = 'none';
            } else {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('registerForm').style.display = 'block';
            }
        }

        function saveAccount(username, password) {
            const accounts = JSON.parse(localStorage.getItem('accounts')) || [];
            accounts.push({ username, password });
            localStorage.setItem('accounts', JSON.stringify(accounts));
        }

        function accountExists(username, password) {
            const accounts = JSON.parse(localStorage.getItem('accounts')) || [];
            return accounts.find(acc => acc.username === username && acc.password === password);
        }

        function checkLogin() {
            if (localStorage.getItem('loggedIn')) {
                alert('You are already logged in. Redirecting to the website...');
                window.location.href = "LIndex.html";  // Replace with your website's main page
            }
        }

        document.addEventListener("DOMContentLoaded", checkLogin);

    </script>


    </head>

    <body>

        <div class="wrapper">

            <form id="loginForm">

                <h1>
                    Login
                </h1>

                <div class="input-box">

                    <input type="text" id="loginUsername" placeholder="Username" required>
                    <i class='bx bxs-user'></i>

                </div>

                <div class="input-box">

                    <input type="password" id="loginPassword" placeholder="Password" required>
                    <i class='bx bxs-lock-alt'></i>

                </div>

                <div class="remember-forgot">

                    <label>
                        <input type="checkbox"> Remember me
                    </label>
                    <a href="#">
                        Forgot password?
                    </a>

                </div>

                <button type="submit" class="btn">
                    Login
                </button>

                <div class="register-link">

                    <p>
                        Don't have an account? 
                        <a onclick="switchForm('register')">
                            Register
                        </a>
                    </p>

                </div>

            </form>
    
            <form id="registerForm" style="display: none;">

                <h1>
                    Register
                </h1>

                <div class="input-box">
                    <input type="text" id="registerUsername" placeholder="Username" required>
                    <i class='bx bxs-user'></i>
                </div>

                <div class="input-box">
                    <input type="password" id="registerPassword" placeholder="Password" required>
                    <i class='bx bxs-lock-alt'></i>
                </div>

                <div class="input-box">
                    <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
                    <i class='bx bxs-lock-alt'></i>
                </div>

                <button type="submit" class="btn">
                    Register
                </button>

                <div class="register-link">

                    <p>
                        Already have an account? 
                        <a onclick="switchForm('login')">
                            Login
                        </a>
                    </p>

                </div>

            </form>

        </div>
    
        <script>

            document.getElementById("loginForm").addEventListener("submit", function(event) {
                event.preventDefault();
    
                const username = document.getElementById("loginUsername").value;
                const password = document.getElementById("loginPassword").value;
    
                if (accountExists(username, password)) {
                    alert("Login successful!");
                    localStorage.setItem('loggedIn', true);
                    window.location.href = "index.html";  // Replace with your website's main page
                } else {
                    alert("Account does not exist. Please register.");
                    switchForm('register');
                }
            });
    
            document.getElementById("registerForm").addEventListener("submit", function(event) {
                event.preventDefault();
    
                const username = document.getElementById("registerUsername").value;
                const password = document.getElementById("registerPassword").value;
                const confirmPassword = document.getElementById("confirmPassword").value;
    
                if (password !== confirmPassword) {
                    alert("Passwords do not match.");
                    return;
                }
    
                if (accountExists(username, password)) {
                    alert("Account already exists. Please login.");
                    switchForm('login');
                } else {
                    saveAccount(username, password);
                    alert("Registration successful! Please log in.");
                    switchForm('login');
                }
            });

        </script>
        
    </body>

</html>
